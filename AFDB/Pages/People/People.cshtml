@page
@model PeopleModel
@{
    ViewData["Title"] = "People page";
}

@if (!ModelState.IsValid)
{
    <div class="alert alert-danger">
        <strong>Error:</strong> @Html.Raw(ViewData.ModelState.Values.SelectMany(v => v.Errors).Select(e => e.ErrorMessage).FirstOrDefault())
    </div>
}

<div class="text-center">
    <h2 class="display-4">Asmenų sąrašas</h2>
</div>

<div class="cold-md-12 d-flex flex-wrap">
    <div class="p-2">
        <a type="button" class="btn btn-primary" asp-area="" asp-page="/People/CreatePerson">Pridėti asmenį</a>
    </div>
    <div class="p-2">
        <a type="button" class="btn btn-primary" asp-area="" asp-page="/People/AddPeople">Pridėti asmenys iš failo</a>
    </div>
    <div class="p-2">
        <form method="post">
            <button type="submit" asp-page-handler="DownloadFile" class="btn btn-success">Atsiųsti .csv</button>
        </form>
    </div>
</div>

<div class="container-fluid">
    @await Html.PartialAsync("Tables/_PeopleFullTable", new Tables._PeopleFullTableModel(Model.PeopleFull))
</div>


